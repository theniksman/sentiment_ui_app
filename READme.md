# Сентимент анализ

## Описание

Проект реализует веб-приложение для анализа тональности текста на русском и английском языках. Он использует популярные предобученные модели, основанные на трансформерах, для классификации текста как позитивного, негативного или нейтрального.

**Видеопревью работы сервиса:** https://youtu.be/GhiC7c2k7D0
---
**Контейнер Docker:** https://hub.docker.com/r/gorbunovnikita/sentiment_ui_app

## Архитектура и Реализация

### Flask Веб-приложение

Приложение построено на фреймворке Flask, который обрабатывает HTTP-запросы. Файл `app.py` содержит два маршрута: один для отображения главной страницы (`/`) и один для API анализа тональности (`/sentiment`). Эндпоинт `/sentiment` принимает POST-запросы с текстом и возвращает результат анализа тональности в формате JSON.

### Выбранные модели

#### Русский язык:
- Модель: `blanchefort/rubert-base-cased-sentiment-rusentiment`
- Используется Hugging Face Transformers pipeline для удобного вывода предсказаний.

#### Английский язык:
- Модель: `mrm8488/distilroberta-finetuned-financial-news-sentiment-analysis`
- Используется токенизатор модели `cardiffnlp/twitter-roberta-base-sentiment-latest` и модель для получения логитов и последующей классификации тональности.

Класс `SentimentAnalysisHandler` в файле `model.py` отвечает за загрузку, кэширование и использование этих моделей. Он также обрабатывает предобработку текста и выполнение вывода модели.

## Установка с использованием Docker

Чтобы облегчить установку и избежать проблем совместимости, проект упакован в контейнер Docker. Следуйте этим шагам для запуска веб-приложения в контейнере Docker:

1. Установите Docker с официального сайта, если он еще не установлен.
2. Скачайте контейнер sentiment_ui_app
   ```
   docker pull gorbunovnikita/sentiment_ui_app
   ```

3. Запустите контейнер Docker:
   ```
   docker run -p 5000:5000 sentiment_ui_app
   ```

После этого приложение будет доступно по адресу `http://localhost:5000/`.

## Инференс

Отправляется POST-запрос на `/sentiment` с JSON-телом, содержащим текст для анализа. В ответе отображается предсказанный сентимент:

```json
{
  "sentiment": "POSITIVE"
}
```

## Структура 

Проект включает следующие ключевые файлы и директории:

- `app.py`: основной скрипт Flask-приложения.
- `model.py`: класс `SentimentAnalysisHandler`, обеспечивающий загрузку и использование моделей.
- `requirements.txt`: зависимости проекта.
- `templates/`: HTML-шаблоны для веб-интерфейса.
- `models/`: каталог для сохраненных моделей.

